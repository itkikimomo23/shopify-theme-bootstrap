{% liquid 
    assign pt = section.settings.pt | prepend: 'pt-'
    assign pb = section.settings.pb | prepend: 'pb-'
%}

{% if section.settings.show %}
    {% if section.settings.homepage == false or template.name == 'index' %}
        <section 
            id="announcement-bar-{{ section.id }}" 
            class="announcement-bar {{ section.settings.bg_color }} {{ section.settings.font_size }} {{ section.settings.text_transform }} {{ pt }} {{ pb }}">
            <div class="container">
                <div class="mx-auto" style="max-width: {{ section.settings.max_width }}px;">
                    <div class="rte text-center lh-sm">
                        {{ section.settings.announcement }}
                    </div>
                </div>
            </div>
        </section>
    {% endif %}
{% endif %}

{% schema %}
{
    "name": "Announcement bar",
    "settings": [
        {
            "type": "richtext",
            "id": "announcement",
            "label": "Announcement"
        },
        {
            "type": "header",
            "content": "General"
        },
        {
            "type": "checkbox",
            "id": "show",
            "label": "Show announcement bar",
            "default": true
        },
        {
            "type": "checkbox",
            "id": "homepage",
            "label": "Show only on homepage",
            "default": false
        },
        {
            "type": "select",
            "id": "bg_color",
            "label": "Background color",
            "default": "bg-dark text-white",
            "options": [
                { "group": "Inherit", "value": "", "label": "Body" },
                { "group": "Light", "value": "bg-white text-dark", "label": "White" },
                { "group": "Light", "value": "bg-light text-dark", "label": "Light" },
                { "group": "Dark", "value": "bg-primary text-white", "label": "Primary" },
                { "group": "Dark", "value": "bg-secondary text-white", "label": "Secondary" },
                { "group": "Dark", "value": "bg-dark text-white", "label": "Dark" },
                { "group": "Alert", "value": "bg-success text-white", "label": "Success" },
                { "group": "Alert", "value": "bg-warning text-dark", "label": "Warning" },
                { "group": "Alert", "value": "bg-danger text-white", "label": "Danger" },
                { "group": "Alert", "value": "bg-info text-white", "label": "Info" }
            ]
        },
                {
            "type": "text",
            "id": "max_width",
            "label": "Max-width (px)",
            "default": "600"
        },
        {
            "type": "select",
            "id": "font_size",
            "label": "Font size",
            "default": "small",
            "options": [
                { "value": "", "label": "Normal" },
                { "value": "small", "label": "Small" }
            ]
        },
        {
            "type": "select",
            "id": "text_transform",
            "label": "Text transform",
            "default": "text-capitalize",
            "options": [
                { "value": "", "label": "Normal" },
                { "value": "text-capitalize", "label": "Capitalize" },
                { "value": "text-lowercase", "label": "Lowercase" },
                { "value": "text-uppercase", "label": "Uppercase" }

            ]
        },
        {
            "type": "header",
            "content": "Spacing"
        },
        {
            "type": "range",
            "id": "pt",
            "label": "Padding top",
            "min": 0,
            "max": 6,
            "step": 1,
            "default": 3
        },
        {
            "type": "range",
            "id": "pb",
            "label": "Padding bottom",
            "min": 0,
            "max": 6,
            "step": 1,
            "default": 3
        }
    ]
}
{% endschema %}