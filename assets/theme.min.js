(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
/* 
    © 2021 KondaSoft
    https://www.kondasoft.com
*/

// Bootstrap tooltips
var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));

tooltipTriggerList.map(function(tooltipTriggerEl) {
    return new bootstrap.Tooltip(tooltipTriggerEl);
});
},{}],2:[function(require,module,exports){
/* 
    © 2021 KondaSoft
    https://www.kondasoft.com
*/
const el = document.querySelector('.google-map');

if (el) {
    var script = document.createElement('script');
    script.src = `https://maps.googleapis.com/maps/api/js?key=${el.dataset.apiKey}&callback=initMap`;
    script.async = true;

    window.initMap = function() {      
        const elArray = document.querySelectorAll('.google-map');

        elArray.forEach(el => {
            const latLng = { 
                lat: Number(el.dataset.lat), 
                lng: Number(el.dataset.lng) 
            };

            const map = new google.maps.Map(el, {
                center: latLng,
                zoom: Number(el.dataset.zoom),
            });

            const marker = new google.maps.Marker({
                position: latLng,
                map
            });

            marker.addListener('click', () => {
                el.closest('.google-map-wrapper')
                    .querySelector('.google-map-content')
                    .classList.remove('hide');
            });
        });
    };

    document.head.appendChild(script);
}

// Handle close button
document.querySelectorAll('.google-map-btn-close').forEach(el => 
    el.addEventListener('click', (e) => {
        e.target.closest('.google-map-content')
            .classList.add('hide');
    })
);


// Listen for changes in Shopify Theme Editor
document.addEventListener('shopify:section:load', function (event) {
    if (document.getElementById(event.target.id).querySelector('.google-map')) {
        initMap();
    }
});
},{}],3:[function(require,module,exports){
/* 
    © 2021 KondaSoft
    https://www.kondasoft.com
*/

// Handle sticky-top
var stickyNavbar = function () { 
    if (document.getElementById('navbar').classList.contains('navbar-sticky')) {
        document.getElementById('shopify-section-navbar')
            .classList.add('sticky-top');
    }
};

stickyNavbar();

// Listen for changes in Shopify Theme Editor
document.addEventListener('shopify:section:load', function (event) {    
    if (event.detail.sectionId === 'navbar') {
        stickyNavbar();
    }
});

},{}],4:[function(require,module,exports){
/* 
    © 2021 KondaSoft
    https://www.kondasoft.com
*/

// Scroll to newsletter form after submit
if (window.location.href.indexOf('?customer_posted=true') > -1) {
    setTimeout(function() { 
        document.querySelector('.newsletter').scrollIntoView();
    }, 750);
}
},{}],5:[function(require,module,exports){
/* 
    © 2021 KondaSoft
    https://www.kondasoft.com
*/

// Autofocus search input field on dropdown open
document.getElementById('search-dropdown')
    .addEventListener('shown.bs.dropdown', function () {
        document.getElementById('minisearch-input').focus();
    });

},{}],6:[function(require,module,exports){
/* 
    © 2021 KondaSoft
    https://www.kondasoft.com

    IMPORTANT: We recommend that you do not edit this file,
    as you might lose changes when you upgrade our theme.
    Instead, you may add your own custom styles in the 
    "assets/custom.js" file.
*/

// Base scripts
require('./base');

// Theme scripts
require('./map');
require('./navbar');
require('./newsletter');
require('./search');

},{"./base":1,"./map":2,"./navbar":3,"./newsletter":4,"./search":5}]},{},[6]);
